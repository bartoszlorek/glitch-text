"use strict";function n(n){return n&&"number"==typeof n.id}function t(t){n(t)&&(cancelAnimationFrame(t.id),t.id=-1)}function r(){return{id:-1}}function i(n){if(null==n)return r();var t={};return t.id=requestAnimationFrame(function r(){!1!==n()&&(t.id=requestAnimationFrame(r))}),t}function e(n,t){for(var e=arguments.length,a=Array(e>2?e-2:0),u=2;u<e;u++)a[u-2]=arguments[u];if(null==n)return r();t=t||0;var o=Date.now();return i(function(){var r=Date.now();if(r-o>=t){if(!1===n.apply(null,a))return!1;o=r}})}function a(n,t){for(var i=arguments.length,a=Array(i>2?i-2:0),u=2;u<i;u++)a[u-2]=arguments[u];if(null==n)return r();return e(function(){return n.apply(null,a),!1},t)}function u(n,t){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var u=0,o={},f=[];return setTimeout(function(){!function n(){var t=f[u++];if(void 0!==t){var r=t[0];if(null==r)return n();t[0]=function(){return!1!==r.apply(null,arguments)&&-1!==o.id&&n(),!1};var i=e.apply(null,t).id;o.id=i}}()},0),function n(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return f.push(r),o={waitTimeout:n,id:-1}}.apply(null,arguments)}function o(n,t){return t?o(t,n%t):n}function f(n){return n&&!0===n.__fraction}function l(n,t){return f(n)?n:s(n,t)}function s(n,t){var r=0,i=1,e=1;if(null==n||isNaN(n))r=i=NaN;else if(void 0!==t){if(r=Math.abs(n),0===(i=Math.abs(t)))throw new Error("division by zero");e=n*t}else if(n<0&&(e=n,n=-n),n%1==0)r=n;else{r=n.toString().replace(/\d+[.]/,""),i=Math.pow(10,r.length),n>1&&(r=+r+Math.floor(n)*i);var a=o(r,i);r/=a,i/=a}return{n:r,d:i,s:e<0?-1:1}}!function(){for(var n=0,t=["ms","moz","webkit","o"],r=0;r<t.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[t[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[r]+"CancelAnimationFrame"]||window[t[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,r){var i=(new Date).getTime(),e=Math.max(0,16-(i-n)),a=window.setTimeout(function(){t(i+e)},e);return n=i+e,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}();var d={__fraction:!0,valueOf:function(){return this.s*this.n/this.d},add:function(n){var t=l(n);return c(this.s*this.n*t.d+t.s*t.n*this.d,this.d*t.d)},subtract:function(n){var t=l(n);return c(this.s*this.n*t.d-t.s*t.n*this.d,this.d*t.d)},multiply:function(n){var t=l(n);return c(this.s*t.s*this.n*t.n,this.d*t.d)},divide:function(n){var t=l(n);return c(this.s*t.s*this.n*t.d,this.d*t.n)}};function c(n,t){var r=l(n,t),i=Object.create(d);return i.n=r.n,i.d=r.d,i.s=r.s,i}var m=c;function v(n,t,i){for(var a=arguments.length,u=Array(a>3?a-3:0),o=3;o<a;o++)u[o-3]=arguments[o];if(null==n)return r();i=i&&i>0?i:1;var f=m(0),l=m(1,i),s=e(function(){return f<1&&-1!==s.id&&(f=f.add(l),!1!==n.apply(void 0,[f.valueOf()].concat(u)))},Math.round(t/i));return s}function h(n){return(2*Math.random()-1)*n}function w(n,t,i){for(var a=arguments.length,u=Array(a>3?a-3:0),o=3;o<a;o++)u[o-3]=arguments[o];if(null==n)return r();var f={};return function r(a){if(-1!==f.id){if(!a&&!1===n.apply(null,u))return!1;var o=t+h(i);o<0&&(o=0);var l=e(r,o).id;f.id=l}return!1}(!0),f}var p={clear:t,setInterval:e,setTimeout:a,waitTimeout:u,setTaskout:v,setRandval:w};module.exports=p;
