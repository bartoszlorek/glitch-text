"use strict";function n(n){return n&&"number"==typeof n.id}function t(t){n(t)&&(cancelAnimationFrame(t.id),t.id=-1)}function i(){return{id:-1}}function e(n){if(null==n)return i();const t={},e=()=>{!1!==n()&&(t.id=requestAnimationFrame(e))};return t.id=requestAnimationFrame(e),t}function r(n,t,...r){if(null==n)return i();t=t||0;let u=Date.now();return e(()=>{let i=Date.now();if(i-u>=t){if(!1===n.apply(null,r))return!1;u=i}})}function u(n,t,...e){if(null==n)return i();return r(()=>(n.apply(null,e),!1),t)}function o(n,t,...i){let e=0,u={};const o=[],a=(...n)=>(o.push(n),u={waitTimeout:a,id:-1});return setTimeout(()=>{const n=()=>{let t=o[e++];if(void 0===t)return;let i=t[0];if(null==i)return n();t[0]=function(){return!1!==i.apply(null,arguments)&&-1!==u.id&&n(),!1};let{id:a}=r.apply(null,t);u.id=a};n()},0),a.apply(null,arguments)}function a(n,t){return t?a(t,n%t):n}function l(n){return n&&!0===n.__fraction}function s(n,t){return l(n)?n:d(n,t)}function d(n,t){let i=0,e=1,r=1;if(null==n||isNaN(n))i=e=NaN;else if(void 0!==t){if(i=Math.abs(n),0===(e=Math.abs(t)))throw new Error("division by zero");r=n*t}else if(n<0&&(r=n,n=-n),n%1==0)i=n;else{i=n.toString().replace(/\d+[.]/,""),e=Math.pow(10,i.length),n>1&&(i=+i+Math.floor(n)*e);let t=a(i,e);i/=t,e/=t}return{n:i,d:e,s:r<0?-1:1}}!function(){for(var n=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var e=(new Date).getTime(),r=Math.max(0,16-(e-n)),u=window.setTimeout(function(){t(e+r)},r);return n=e+r,u}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}();const c={__fraction:!0,valueOf:function(){return this.s*this.n/this.d},add:function(n){let t=s(n);return f(this.s*this.n*t.d+t.s*t.n*this.d,this.d*t.d)},subtract:function(n){let t=s(n);return f(this.s*this.n*t.d-t.s*t.n*this.d,this.d*t.d)},multiply:function(n){let t=s(n);return f(this.s*t.s*this.n*t.n,this.d*t.d)},divide:function(n){let t=s(n);return f(this.s*t.s*this.n*t.d,this.d*t.n)}};function f(n,t){let i=s(n,t),e=Object.create(c);return e.n=i.n,e.d=i.d,e.s=i.s,e}var m=f;function w(n,t,e,...u){if(null==n)return i();e=e&&e>0?e:1;let o=m(0),a=m(1,e);const l=r(()=>o<1&&-1!==l.id&&(o=o.add(a),!1!==n(o.valueOf(),...u)),Math.round(t/e));return l}function h(n){return(2*Math.random()-1)*n}function p(n,t,e,...u){if(null==n)return i();const o={},a=i=>{if(-1!==o.id){if(!i&&!1===n.apply(null,u))return!1;let l=t+h(e);l<0&&(l=0);let{id:s}=r(a,l);o.id=s}return!1};return a(!0),o}const A={clear:t,setInterval:r,setTimeout:u,waitTimeout:o,setTaskout:w,setRandval:p};module.exports=A;
