<!doctype html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,500&amp;subset=latin-ext" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="http://bartoszlorek.pl/run/.global/demo.style.css">
    <title>glitch-text demo</title>
</head>

<body>
    <a href="https://github.com/bartoszlorek/glitch-text"><img style="position: fixed; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

    <div class="wrap">
        <h1>glitch-text</h1>
        <code class="javascript">
            import glitchText, { animate, repeat } from 'glitch-text'
            const  glitch = glitchText(element)
        </code>
    </div>

    <div id="demo1" class="wrap">
        <div class="code-scope">
            <h3>The quick brown fox jumps over the lazy dog.</h3>
        </div>
        <code class="javascript">
            // from left to right
            animate(2000, 50, progress => {
                glitch.slice(progress)
            })
        </code>
    </div>

    <div id="demo2" class="wrap">
        <div class="code-scope">
            <h3>The quick brown fox jumps over the lazy dog.</h3>
        </div>
        <code class="javascript">
            // from left to right as a slice of thickness 0.25
            animate(2000, 50, progress => {
                glitch.slice(progress, progress + 0.25)
            })
        </code>
    </div>

    <div id="demo3" class="wrap">
        <div class="code-scope">
            <h3>The quick brown fox jumps over the lazy dog.</h3>
        </div>
        <code class="javascript">
            // from right to left
            animate(2000, 50, progress => {
                glitch.slice(-progress)
            })
        </code>
    </div>

    <div id="demo4" class="wrap">
        <div class="code-scope">
            <h3>The quick brown fox jumps over the lazy dog.</h3>
        </div>
        <code class="javascript">
            // from right to left as a slice of thickness 0.25
            animate(2000, 50, progress => {
                glitch.slice(-progress - 0.25, -progress)
            })
        </code>
    </div>

    <div id="demo5" class="wrap">
        <div class="code-scope">
            <h3>The quick brown fox jumps over the lazy dog.</h3>
        </div>
        <code class="javascript">
            // from center to edges
            animate(2000, 50, progress => {
                glitch.slice(-progress/2 + 0.5, progress/2 + 0.5)
            })
        </code>
    </div>

    <div id="demo6" class="wrap">
        <div class="code-scope">
            <h3>The quick brown fox jumps over the lazy dog.</h3>
        </div>
        <code class="javascript">
            // from edges to center
            animate(2000, 50, progress => {
                glitch.slice(progress/2, -progress/2)
            })
        </code>
    </div>

    <div id="demo7" class="wrap">
        <div class="code-scope">
            <h3>The quick brown fox jumps over the lazy dog.</h3>
        </div>
        <code class="javascript">
            // glitch 50% of chars randomly every 2 seconds (+/- 0.5)
            repeat(2000, 500, () => {
                animate(500, 10, progress => {
                    if (progress > 0.5) {
                        glitch.random(1 - progress)
                    }
                })
            })
        </code>
    </div>

    <div class="footer">
        Bartosz Lorek <a href="http://bartoszlorek.pl">www.bartoszlorek.pl</a>
    </div>

    <script src="http://bartoszlorek.pl/run/.global/demo.highlight.js"></script>
    <script src="http://bartoszlorek.pl/run/.global/demo.script.js"></script>
    <script src="./glitch-text.umd.js"></script>

    <script type="text/javascript">
        runDemoCode("#demo1", function (nodes) {
            var glitch = glitchText(nodes[0])
            glitchText.animate(2000, 50, progress => {
                glitch.slice(progress)
            })
        }).runAfter(200)

        runDemoCode("#demo2", function (nodes) {
            var glitch = glitchText(nodes[0])
            glitchText.animate(2000, 50, progress => {
                glitch.slice(progress, progress + 0.25)
            })
        }).runAfter(800)

        runDemoCode("#demo3", function (nodes) {
            var glitch = glitchText(nodes[0])
            glitchText.animate(2000, 50, progress => {
                glitch.slice(-progress)
            })
        }).runAfter(1400)

        runDemoCode("#demo4", function (nodes) {
            var glitch = glitchText(nodes[0])
            glitchText.animate(2000, 50, progress => {
                glitch.slice(-progress - 0.25, -progress)
            })
        }).runAfter(2000)

        runDemoCode("#demo5", function (nodes) {
            var glitch = glitchText(nodes[0])
            glitchText.animate(2000, 50, progress => {
                glitch.slice(-progress/2 + 0.5, progress/2 + 0.5)
            })
        }).runAfter(2600)

        runDemoCode("#demo6", function (nodes) {
            var glitch = glitchText(nodes[0])
            glitchText.animate(2000, 50, progress => {
                glitch.slice(progress/2, -progress/2)
            })
        }).runAfter(3200)

        runDemoCode("#demo7", function (nodes) {
            var glitch = glitchText(nodes[0])
            glitchText.repeat(2000, 500, () => {
                glitchText.animate(500, 10, progress => {
                    if (progress > 0.5) {
                        glitch.random(1 - progress)
                    }
                })
            })
        }).runAfter()
    </script>
</body>

</html>
