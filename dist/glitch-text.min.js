/*! Copyright (c) 2017 Bartosz Lorek. MIT license */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.GlitchText=e():t.GlitchText=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){var r,i;r=[],i=function(){function t(t){function e(){t()!==!1&&(n.id=requestAnimationFrame(e))}var n={};return n.id=requestAnimationFrame(e),n}function e(e,n){var r=Array.prototype.slice.call(arguments,2),i=0;return t(function(){if(i>=(n||0)){if(e.apply(null,r)===!1)return!1;i=0}i++})}function n(e,n){var r=Array.prototype.slice.call(arguments,2),i=Date.now();return t(function(){var t=Date.now(),o=t-i;if(o>=(n||0)){if(e.apply(null,r)===!1)return!1;i=t}})}function r(t){if("object"!=typeof t)return null;var e=Array.prototype.slice.call(t);return{value:"number"==typeof e[0]&&e[0]||0,params:e.slice("number"==typeof e[0]?1:0,-1),callback:"function"==typeof e[e.length-1]&&e.slice(-1)[0]||function(){}}}function i(t,e,n){e=e||"then";var o="pending",u=null;this.id=[],this.handle=r(n),this.resolve=function(){if(null===this.handle)return!1;var e=this.handle.callback,n=function(){o="resolved",e.apply(null,arguments),null!==u&&u.resolve()};request=t.apply(null,[n,this.handle.value].concat(this.handle.params)),this.id.push(request)},this[e]=function(){return u=new i(t,e),u.handle=r(arguments),u.id=this.id,"resolved"===o&&u.resolve(),u},this.resolve()}return function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),o=window.setTimeout(function(){e(r+i)},i);return t=r+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),{clear:function(t){if(!t.hasOwnProperty("id"))return!1;var e=t.id;return"object"==typeof e&&e.hasOwnProperty("id")?this.clear(e):(e.constructor===Array&&(e=e.length-1),"number"==typeof e&&(cancelAnimationFrame(e),!0))},setInterval:n,setTimeout:function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(function(){return t.apply(null,arguments),!1}),n.apply(null,e)},setFrameval:e,setFrameout:function(t){var n=Array.prototype.slice.call(arguments,1);return n.unshift(function(){return t.apply(null,arguments),!1}),e.apply(null,n)},waitTime:function(){return new i(this.setTimeout,"waitTime",arguments)},waitFrame:function(){return new i(this.setFrameout,"waitFrame",arguments)}}}.apply(e,r),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i;r=[n(0)],i=function(t){function e(t,e,n,r){var i,o;if("string"!=typeof e&&""!==e)throw"getArgument function needs type!";if("number"==typeof n)o=n<0?t[t.length+n]:t[n],typeof o===e&&(i=o);else{if(n.constructor!==Array)throw"getArgument function needs index!";o=t.slice(n).filter(function(t){return typeof t===e}),o.length>0&&(i=o[0])}return"undefined"==typeof i?r:i}function n(t){var e=t.children;return e.length>0?n(e[0]):t}function r(t,e,n){return Math.min(Math.max(t,e),n)}function i(){var t="57e5d1a9f98f8b2f6880de32",e=Math.floor(Math.random()*t.length);return t[e]}function o(t){return this.element=document.getElementById(t),this.originalText=this.text(),this.requests={},this}return o.prototype={text:function(t){var e=n(this.element);return 1!==e.nodeType&&11!==e.nodeType&&9!==e.nodeType?"":"string"==typeof t?e.textContent=t:e.textContent},glitchSlice:function(t,e){t=(t=parseFloat(t))||0,e=(e=parseFloat(e))||1,t<0&&(t=1+t),e<0&&(e=1+e),t=r(t,0,1),e=r(e,0,1);var n=this.originalText;return 1===t||t>e?n:n.split("").map(function(r,o){if(" "===r)return r;var u=o/n.length;return u>=.99&&(u=1),u>=t&&u<=e&&t!==e?i():r}).join("")},glitchRandom:function(t){(t=t||0)<0&&(t=0);var e,n,r=this.originalText,o=Math.round(r.length*t),u=[];if(o<=0)return r;for(;o--;)for(e=!1;!e;)n=Math.round(Math.random()*r.length),u.indexOf(n)<0&&(u.push(n),e=!0);return r.split("").map(function(t,e){return" "===t?t:u.indexOf(e)>-1?i():t}).join("")},animate:function(){var n,r=Array.prototype.slice.call(arguments),i=e(r,"number",0,1),o=e(r,"number",1,20),u=e(r,"function",[-2],!1),a=e(r,"string",[-1],!1),l=0;if("function"!=typeof u)throw"Animate method needs callback!";var s=function(){if(l>=1)return!1;l+=1/o,l>=.99&&(l=1);var t=u(l);"string"==typeof t&&this.text(t)};return s=s.bind(this),u=u.bind(this),n=t.setInterval(s,Math.round(1e3*i/o)),"string"==typeof a&&(this.requests[a]=n),this},repeat:function(){function n(){a.id=t.setTimeout(function(){o(),n()},1e3*i*Math.random())}var r=Array.prototype.slice.call(arguments),i=e(r,"number",0,20),o=e(r,"function",[-2],!1),u=e(r,"string",[-1],!1),a={};if("function"!=typeof o)throw"Repeat method needs callback!";return o=o.bind(this),n(),"string"==typeof u&&(this.requests[u]=a),this},stop:function(e){if("string"==typeof e){for(var n in this.requests)if(n===e){t.clear(this.requests[n]),delete this.requests[n];break}}else{for(var n in this.requests)t.clear(this.requests[n]);this.requests=[]}return this}},o}.apply(e,r),!(void 0!==i&&(t.exports=i))}])});